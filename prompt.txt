gemini -p . "Crea un proyecto completo de Python para una aplicación de farmacia e-commerce con interfaz gráfica moderna usando Tkinter (módulo tkinter.ttk) y base de datos SQLite.

ESTRUCTURA DE CARPETAS Y ARCHIVOS:
farmacia_ecommerce/
├── main.py
├── config/
│   └── database.py
├── models/
│   ├── usuario.py
│   ├── producto.py
│   └── sucursal.py
├── gui/
│   ├── login.py
│   ├── cliente/
│   │   ├── menu_cliente.py
│   │   ├── consulta_productos.py
│   │   ├── seleccion_sucursal.py
│   │   └── proceso_compra.py
│   └── admin/
│       ├── menu_admin.py
│       ├── gestion_usuarios.py
│       └── gestion_productos.py
└── utils/
    └── validaciones.py

ESPECIFICACIONES TÉCNICAS:
1. Usar exclusivamente tkinter.ttk para todos los widgets (estilo moderno).
2. Base de datos SQLite con las siguientes tablas:
   - Usuarios: id, username, password, rol (cliente/admin)
   - Productos: id, nombre, descripcion, precio, stock
   - Sucursales: id, nombre, direccion, distancia_km
   - Ventas: id, id_usuario, fecha, total, metodo_pago
   - DetalleVentas: id, id_venta, id_producto, cantidad, subtotal

FUNCIONALIDADES OBLIGATORIAS:

A) SISTEMA DE LOGIN (main.py + gui/login.py):
- Ventana de login con campos para usuario y contraseña
- Validación contra la base de datos
- Redirección según el rol (cliente → menu_cliente.py, admin → menu_admin.py)
- Usuarios predefinidos: admin/admin123 y cliente/cliente123

B) MÓDULO CLIENTE (gui/cliente/):

1. menu_cliente.py:
   - Menú principal con botones para: Consultar Productos, Realizar Compra, Cerrar Sesión

2. consulta_productos.py:
   - Campo de búsqueda por nombre de producto
   - Tabla (Treeview) mostrando: Nombre, Descripción, Precio, Stock Disponible
   - Mensaje si el producto no existe o no hay stock

3. seleccion_sucursal.py:
   - Lista de sucursales disponibles con: Nombre, Dirección, Distancia (km)
   - Opción para seleccionar la sucursal más cercana
   - Botón de confirmación

4. proceso_compra.py:
   - Tabla para agregar productos al carrito (nombre, cantidad, precio, subtotal)
   - Botones: Agregar Producto, Eliminar del Carrito, Vaciar Carrito
   - Cálculo automático del total
   - Opciones de pago: RadioButtons para Contado, Tarjeta de Débito, Tarjeta de Crédito
   - Botón Finalizar Compra (registra en tabla Ventas y actualiza stock)
   - Validación de stock disponible antes de agregar al carrito

C) MÓDULO ADMINISTRADOR (gui/admin/):

1. menu_admin.py:
   - Menú principal con botones para: Gestión de Usuarios, Gestión de Productos, Cerrar Sesión

2. gestion_usuarios.py:
   - Tabla (Treeview) mostrando todos los usuarios: ID, Username, Rol
   - Formulario para: Crear nuevo usuario, Modificar usuario seleccionado, Eliminar usuario
   - Validación: no permitir eliminar al propio usuario logueado

3. gestion_productos.py:
   - Tabla (Treeview) mostrando todos los productos: ID, Nombre, Precio, Stock
   - Formulario para: Crear nuevo producto, Modificar producto seleccionado, Eliminar producto
   - Validación de campos numéricos (precio y stock)

D) MODELOS (models/):
- Clases con métodos para interactuar con la base de datos
- usuario.py: métodos autenticar(), crear(), modificar(), eliminar(), listar()
- producto.py: métodos consultar(), crear(), modificar(), eliminar(), listar(), actualizar_stock()
- sucursal.py: métodos listar(), obtener_mas_cercana()

E) BASE DE DATOS (config/database.py):
- Clase DatabaseManager con:
  - Método init_db() que crea las tablas si no existen
  - Método para insertar datos iniciales (3 productos ejemplo, 2 sucursales, usuarios admin y cliente)
  - Métodos de conexión y ejecución de queries

F) UTILIDADES (utils/validaciones.py):
- Funciones para validar campos vacíos, números, formato de precios

REQUISITOS DE IMPLEMENTACIÓN:
- Todo el código debe ser funcional y ejecutable
- Usar ttk.Style() para personalizar colores y fuentes
- Incluir manejo de errores con try-except en operaciones de base de datos
- Documentar cada clase y método con docstrings
- El archivo main.py debe inicializar la base de datos y abrir la ventana de login
- Todas las ventanas deben tener tamaño mínimo definido y estar centradas en pantalla
- Implementar botón 'Volver' o 'Cerrar Sesión' en todas las interfaces

DATOS INICIALES PARA LA BASE DE DATOS:
Productos: Ibuprofeno 400mg (100 unidades), Paracetamol 500mg (150 unidades), Amoxicilina 500mg (80 unidades)
Sucursales: Sucursal Centro (Av. Principal 123, 2.5 km), Sucursal Norte (Calle 45 #678, 5.8 km)
Usuarios: admin/admin123 (rol: admin), cliente/cliente123 (rol: cliente)

Genera el código completo para todos los archivos mencionados."